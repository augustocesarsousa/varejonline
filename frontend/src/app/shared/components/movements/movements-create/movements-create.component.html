<div class="container">
    <div class="header-content">
        <h2>Cadastro de Movimentação</h2>
    </div>
    <form [formGroup]="form">
        <div class="product-container mt-4">
            <div class="d-flex align-items-center">
                <label for="inputIdProduct" class="input-id-product-label">Id do produto:</label>
                <input 
                    id="inputIdProduct" 
                    class="input-id-product form-control me-1"
                    type="number" 
                    name="inputIdProduct" 
                    (change)="findProductById()"
                    formControlName="productId"
                    [(ngModel)]="productId"
                >
            </div>
            <div class="d-flex align-items-center me-1 input-product-content">
                <label for="inputProduct" class="input-product-label me-1">Nome:</label>
                <input 
                    id="inputProduct" 
                    class="input-product form-control"
                    type="text" 
                    name="inputProduct" 
                    formControlName="productName"
                    [(ngModel)]="productName"
                    readonly
                >
            </div>  
            <div class="d-flex align-items-center input-balance-product-content">
                <label for="inputBalanceProduct" class="input-balance-product-label me-1">Saldo:</label>
                <input 
                    id="inputBalanceProduct" 
                    class="input-balance-product form-control"
                    type="number" 
                    name="inputBalanceProduct" 
                    formControlName="productCurrentBalance"
                    [(ngModel)]="productCurrentBalance"
                    readonly
                >
            </div>  
        </div>
        <div class="row mt-2">
            <div class="d-flex align-items-center col-3">
            <div class="">
                <label class="me-1" for="inputSelectTypeMovement">Tipo:</label>
            </div>
            <select
                class="form-select"
                id="inputSelectTypeMovement"
                name="typeMovementSelect"
                type="number"
                formControlName="typeMovement"
                [(ngModel)]="typeMovementId"
                (change)="checkTypeMovement()"
            >
                <option *ngFor="let type of listTypeMovements" [ngValue]="type.id">{{type.description}}</option>
            </select>
            </div>
            <div class="input-quantity-movement col-3 d-flex align-items-center">
                <label class="me-1" for="inputIdProduct">Quantidade:</label>
                <input 
                    [disabled]="!hasProduct"
                    id="inputIdProduct"
                    class="form-control"
                    type="number" 
                    name="inputIdProduct" 
                    formControlName="quantityMovement"
                    [(ngModel)]="quantityMovement"
                    (change)="checkQuantity()"
                >
                <small  class="text-danger" *ngIf="!isQuantityValid">Quantidade superior ao saldo!</small>
            </div>
            <div class="d-flex align-items-center col-3 d-flex align-items-center">
                <div class="">
                    <label class="me-1" for="inputDateMovement">Data:</label>
                </div>
                <input
                    class="form-control"
                    id="inputDateMovement"
                    type="date"
                    name="date-movement"
                    formControlName="dateMovement"
                    [(ngModel)]="dateMovement"
                    (change)="checkProductDate()"
                />
            </div>
            <div class="input-document-content col-3 d-flex align-items-center">
                <label class="me-1" for="inputDocument">Documento:</label>
                <input 
                    id="inputDocument"
                    class="form-control"
                    type="number" 
                    name="inputDocument" 
                    formControlName="documentMovement"
                    [(ngModel)]="documentMovement"
                >
            </div>
        </div>
        <div class="input-reason-content d-flex align-items-center mt-2">
            <label class="me-1" for="inputReason">Motivo:</label>
            <input 
                id="inputReason"
                class="form-control"
                type="text" 
                name="inputReason" 
                formControlName="reasonMovement"
                [(ngModel)]="reasonMovement"
            >
        </div>
        <div class="my-2 mt-3">
            <button
              [disabled]="form.invalid"
              class="btn buttons btn-primary"
              type="submit"
              (click)="save()"
            >Salvar</button>
            <button routerLink="/movements" class="btn buttons btn-danger">Cancelar</button>
          </div>
    </form>
</div>
